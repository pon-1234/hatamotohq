{"version":3,"file":"BasePagination-CGWSrIcq.js","sources":["../../../../../app/javascript/src/components/base/BasePagination.vue"],"sourcesContent":["<template>\n  <nav v-if=\"totalPages > 1\" :aria-label=\"ariaLabel\">\n    <ul class=\"pagination\" :class=\"sizeClass\">\n      <!-- First page button -->\n      <li class=\"page-item\" :class=\"{ disabled: isFirstPage }\" v-if=\"firstLastButtons\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"changePage(1)\"\n          :aria-disabled=\"isFirstPage\"\n          aria-label=\"Go to first page\"\n        >\n          <span aria-hidden=\"true\">{{ firstText }}</span>\n        </a>\n      </li>\n\n      <!-- Previous page button -->\n      <li class=\"page-item\" :class=\"{ disabled: isFirstPage }\" v-if=\"prevNextButtons\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"changePage(currentPage - 1)\"\n          :aria-disabled=\"isFirstPage\"\n          aria-label=\"Go to previous page\"\n        >\n          <span aria-hidden=\"true\">{{ prevText }}</span>\n        </a>\n      </li>\n\n      <!-- Page numbers with ellipsis -->\n      <li\n        v-for=\"page in pages\"\n        :key=\"page.number\"\n        class=\"page-item\"\n        :class=\"{\n          active: page.number === currentPage,\n          disabled: page.disabled\n        }\"\n      >\n        <span v-if=\"page.disabled\" class=\"page-link\">{{ ellipsisText }}</span>\n        <a\n          v-else\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"changePage(page.number)\"\n          :aria-label=\"`Go to page ${page.number}`\"\n          :aria-current=\"page.number === currentPage ? 'page' : null\"\n        >\n          {{ page.number }}\n        </a>\n      </li>\n\n      <!-- Next page button -->\n      <li class=\"page-item\" :class=\"{ disabled: isLastPage }\" v-if=\"prevNextButtons\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"changePage(currentPage + 1)\"\n          :aria-disabled=\"isLastPage\"\n          aria-label=\"Go to next page\"\n        >\n          <span aria-hidden=\"true\">{{ nextText }}</span>\n        </a>\n      </li>\n\n      <!-- Last page button -->\n      <li class=\"page-item\" :class=\"{ disabled: isLastPage }\" v-if=\"firstLastButtons\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          @click.prevent=\"changePage(totalPages)\"\n          :aria-disabled=\"isLastPage\"\n          aria-label=\"Go to last page\"\n        >\n          <span aria-hidden=\"true\">{{ lastText }}</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Number,\n    default: 1\n  },\n  totalRows: {\n    type: Number,\n    required: true\n  },\n  perPage: {\n    type: Number,\n    default: 20\n  },\n  limit: {\n    type: Number,\n    default: 5\n  },\n  firstLastButtons: {\n    type: Boolean,\n    default: false\n  },\n  prevNextButtons: {\n    type: Boolean,\n    default: true\n  },\n  ellipsisText: {\n    type: String,\n    default: '…'\n  },\n  firstText: {\n    type: String,\n    default: '«'\n  },\n  prevText: {\n    type: String,\n    default: '‹'\n  },\n  nextText: {\n    type: String,\n    default: '›'\n  },\n  lastText: {\n    type: String,\n    default: '»'\n  },\n  size: {\n    type: String,\n    default: null,\n    validator: (value) => ['sm', 'lg', null].includes(value)\n  },\n  ariaLabel: {\n    type: String,\n    default: 'Pagination'\n  },\n  align: {\n    type: String,\n    default: null,\n    validator: (value) => ['left', 'center', 'right', 'fill', null].includes(value)\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'change'])\n\nconst currentPage = computed({\n  get: () => props.modelValue,\n  set: (value) => {\n    emit('update:modelValue', value)\n    emit('change', value)\n  }\n})\n\nconst totalPages = computed(() => {\n  return Math.ceil(props.totalRows / props.perPage)\n})\n\nconst isFirstPage = computed(() => currentPage.value === 1)\nconst isLastPage = computed(() => currentPage.value === totalPages.value)\n\nconst sizeClass = computed(() => {\n  const classes = []\n  if (props.size === 'sm') classes.push('pagination-sm')\n  if (props.size === 'lg') classes.push('pagination-lg')\n  \n  if (props.align) {\n    const alignMap = {\n      left: 'justify-content-start',\n      center: 'justify-content-center',\n      right: 'justify-content-end',\n      fill: 'justify-content-between'\n    }\n    classes.push(alignMap[props.align])\n  }\n  \n  return classes\n})\n\nconst pages = computed(() => {\n  const pages = []\n  const total = totalPages.value\n  const current = currentPage.value\n  const limit = props.limit\n\n  if (total <= limit + 2) {\n    // Show all pages if total is small\n    for (let i = 1; i <= total; i++) {\n      pages.push({ number: i, disabled: false })\n    }\n  } else {\n    // Always show first page\n    pages.push({ number: 1, disabled: false })\n\n    const half = Math.floor(limit / 2)\n    let start = current - half\n    let end = current + half\n\n    // Adjust if near the beginning\n    if (start <= 2) {\n      start = 2\n      end = Math.min(limit + 1, total - 1)\n    }\n    // Adjust if near the end\n    else if (end >= total - 1) {\n      end = total - 1\n      start = Math.max(total - limit, 2)\n    }\n\n    // Add ellipsis if needed at the beginning\n    if (start > 2) {\n      pages.push({ number: '...', disabled: true })\n    }\n\n    // Add page numbers\n    for (let i = start; i <= end; i++) {\n      pages.push({ number: i, disabled: false })\n    }\n\n    // Add ellipsis if needed at the end\n    if (end < total - 1) {\n      pages.push({ number: '...', disabled: true })\n    }\n\n    // Always show last page\n    if (total > 1) {\n      pages.push({ number: total, disabled: false })\n    }\n  }\n\n  return pages\n})\n\nconst changePage = (page) => {\n  if (page < 1 || page > totalPages.value || page === currentPage.value) {\n    return\n  }\n  currentPage.value = page\n}\n</script>\n\n<style scoped>\n.page-item.disabled .page-link {\n  cursor: not-allowed;\n}\n\n.page-item.active .page-link {\n  z-index: 1;\n}\n</style> "],"names":["props","__props","emit","__emit","currentPage","computed","value","totalPages","isFirstPage","isLastPage","sizeClass","classes","alignMap","pages","total","current","limit","i","half","start","end","changePage","page","_createElementBlock","_createElementVNode","_normalizeClass","_hoisted_3","_toDisplayString","_cache","_withModifiers","$event","_hoisted_5","_Fragment","_renderList","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_11"],"mappings":"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"}