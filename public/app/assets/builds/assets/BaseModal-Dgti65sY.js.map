{"version":3,"file":"BaseModal-Dgti65sY.js","sources":["../../../../../app/javascript/src/components/base/BaseModal.vue"],"sourcesContent":["<template>\n  <teleport to=\"body\">\n    <transition name=\"modal-fade\">\n      <div v-if=\"isVisible\" class=\"modal-backdrop\" @click=\"handleBackdropClick\">\n        <div \n          class=\"modal-dialog\"\n          :class=\"modalClasses\"\n          @click.stop\n          role=\"dialog\"\n          :aria-labelledby=\"titleId\"\n          aria-modal=\"true\"\n        >\n          <div class=\"modal-content\">\n            <!-- Header -->\n            <div v-if=\"!hideHeader\" class=\"modal-header\">\n              <slot name=\"header\">\n                <h5 :id=\"titleId\" class=\"modal-title\">{{ title }}</h5>\n              </slot>\n              <button\n                type=\"button\"\n                class=\"btn-close\"\n                aria-label=\"Close\"\n                @click=\"handleClose\"\n              ></button>\n            </div>\n\n            <!-- Body -->\n            <div class=\"modal-body\">\n              <slot />\n            </div>\n\n            <!-- Footer -->\n            <div v-if=\"!hideFooter\" class=\"modal-footer\">\n              <slot name=\"footer\" :ok=\"handleOk\" :cancel=\"handleCancel\">\n                <button\n                  v-if=\"showCancelButton\"\n                  type=\"button\"\n                  class=\"btn btn-secondary\"\n                  @click=\"handleCancel\"\n                >\n                  {{ cancelText }}\n                </button>\n                <button\n                  v-if=\"showOkButton\"\n                  type=\"button\"\n                  class=\"btn\"\n                  :class=\"`btn-${okVariant}`\"\n                  :disabled=\"okDisabled\"\n                  @click=\"handleOk\"\n                >\n                  {{ okText }}\n                </button>\n              </slot>\n            </div>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </teleport>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted, onUnmounted } from 'vue';\n\n// Props\nconst props = defineProps({\n  id: {\n    type: String,\n    required: true\n  },\n  modelValue: {\n    type: Boolean,\n    default: false\n  },\n  title: {\n    type: String,\n    default: ''\n  },\n  size: {\n    type: String,\n    default: 'md',\n    validator: (value) => ['sm', 'md', 'lg', 'xl'].includes(value)\n  },\n  hideFooter: {\n    type: Boolean,\n    default: false\n  },\n  hideHeader: {\n    type: Boolean,\n    default: false\n  },\n  noCloseOnBackdrop: {\n    type: Boolean,\n    default: false\n  },\n  noCloseOnEsc: {\n    type: Boolean,\n    default: false\n  },\n  centered: {\n    type: Boolean,\n    default: true\n  },\n  showCancelButton: {\n    type: Boolean,\n    default: true\n  },\n  showOkButton: {\n    type: Boolean,\n    default: true\n  },\n  cancelText: {\n    type: String,\n    default: 'キャンセル'\n  },\n  okText: {\n    type: String,\n    default: 'OK'\n  },\n  okVariant: {\n    type: String,\n    default: 'primary'\n  },\n  okDisabled: {\n    type: Boolean,\n    default: false\n  }\n});\n\n// Emits\nconst emit = defineEmits(['update:modelValue', 'show', 'shown', 'hide', 'hidden', 'ok', 'cancel']);\n\n// State\nconst isVisible = ref(false);\nconst titleId = computed(() => `${props.id}-title`);\n\n// Computed\nconst modalClasses = computed(() => ({\n  [`modal-${props.size}`]: props.size !== 'md',\n  'modal-dialog-centered': props.centered\n}));\n\n// Methods\nconst show = () => {\n  isVisible.value = true;\n  emit('update:modelValue', true);\n  emit('show');\n  \n  // Add body class to prevent scrolling\n  document.body.classList.add('modal-open');\n  \n  // Emit shown after transition\n  setTimeout(() => {\n    emit('shown');\n  }, 150);\n};\n\nconst hide = () => {\n  emit('hide');\n  isVisible.value = false;\n  emit('update:modelValue', false);\n  \n  // Remove body class\n  document.body.classList.remove('modal-open');\n  \n  // Emit hidden after transition\n  setTimeout(() => {\n    emit('hidden');\n  }, 150);\n};\n\nconst handleBackdropClick = () => {\n  if (!props.noCloseOnBackdrop) {\n    hide();\n  }\n};\n\nconst handleClose = () => {\n  hide();\n};\n\nconst handleOk = () => {\n  emit('ok');\n  hide();\n};\n\nconst handleCancel = () => {\n  emit('cancel');\n  hide();\n};\n\nconst handleEscKey = (event) => {\n  if (event.key === 'Escape' && !props.noCloseOnEsc && isVisible.value) {\n    hide();\n  }\n};\n\n// Watch modelValue for v-model support\nwatch(() => props.modelValue, (newVal) => {\n  if (newVal) {\n    show();\n  } else {\n    hide();\n  }\n});\n\n// Lifecycle\nonMounted(() => {\n  document.addEventListener('keydown', handleEscKey);\n  \n  // Register modal instance for programmatic access\n  if (window.BaseModalInstances) {\n    window.BaseModalInstances[props.id] = { show, hide };\n  } else {\n    window.BaseModalInstances = { [props.id]: { show, hide } };\n  }\n});\n\nonUnmounted(() => {\n  document.removeEventListener('keydown', handleEscKey);\n  document.body.classList.remove('modal-open');\n  \n  // Cleanup modal instance\n  if (window.BaseModalInstances && window.BaseModalInstances[props.id]) {\n    delete window.BaseModalInstances[props.id];\n  }\n});\n\n// Expose methods for parent component access\ndefineExpose({ show, hide });\n</script>\n\n<style scoped>\n.modal-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1050;\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  padding: 1.75rem;\n  overflow-y: auto;\n}\n\n.modal-dialog {\n  position: relative;\n  width: auto;\n  margin: 1.75rem auto;\n  pointer-events: auto;\n  max-width: 500px;\n}\n\n.modal-dialog-centered {\n  display: flex;\n  align-items: center;\n  min-height: calc(100% - 3.5rem);\n}\n\n.modal-sm {\n  max-width: 300px;\n}\n\n.modal-lg {\n  max-width: 800px;\n}\n\n.modal-xl {\n  max-width: 1140px;\n}\n\n.modal-content {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  pointer-events: auto;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.3rem;\n  outline: 0;\n}\n\n.modal-header {\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  border-bottom: 1px solid #dee2e6;\n  border-top-left-radius: calc(0.3rem - 1px);\n  border-top-right-radius: calc(0.3rem - 1px);\n}\n\n.modal-title {\n  margin-bottom: 0;\n  line-height: 1.5;\n}\n\n.btn-close {\n  box-sizing: content-box;\n  width: 1em;\n  height: 1em;\n  padding: 0.25em;\n  color: #000;\n  background: transparent url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\") center/1em auto no-repeat;\n  border: 0;\n  border-radius: 0.25rem;\n  opacity: 0.5;\n  cursor: pointer;\n}\n\n.btn-close:hover {\n  opacity: 0.75;\n}\n\n.modal-body {\n  position: relative;\n  flex: 1 1 auto;\n  padding: 1rem;\n}\n\n.modal-footer {\n  display: flex;\n  flex-wrap: wrap;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 0.75rem;\n  border-top: 1px solid #dee2e6;\n  border-bottom-right-radius: calc(0.3rem - 1px);\n  border-bottom-left-radius: calc(0.3rem - 1px);\n  gap: 0.5rem;\n}\n\n/* Transition */\n.modal-fade-enter-active,\n.modal-fade-leave-active {\n  transition: opacity 0.15s;\n}\n\n.modal-fade-enter-from,\n.modal-fade-leave-to {\n  opacity: 0;\n}\n\n.modal-fade-enter-active .modal-dialog,\n.modal-fade-leave-active .modal-dialog {\n  transition: transform 0.15s;\n}\n\n.modal-fade-enter-from .modal-dialog {\n  transform: translateY(-50px);\n}\n\n.modal-fade-leave-to .modal-dialog {\n  transform: translateY(-50px);\n}\n\n/* Body class when modal is open */\n:global(.modal-open) {\n  overflow: hidden;\n}\n</style>"],"names":["props","__props","emit","__emit","isVisible","ref","titleId","computed","modalClasses","show","hide","handleBackdropClick","handleClose","handleOk","handleCancel","handleEscKey","event","watch","newVal","onMounted","onUnmounted","__expose","_createBlock","_Teleport","_createVNode","_Transition","_createElementBlock","_createElementVNode","_normalizeClass","_hoisted_2","_openBlock","_hoisted_3","_renderSlot","_ctx","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7"],"mappings":"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"}