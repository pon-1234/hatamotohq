{"version":3,"file":"BaseTable-Du4SCk8h.js","sources":["../../../../../app/javascript/src/components/base/BaseTable.vue"],"sourcesContent":["<template>\n  <div class=\"base-table-wrapper\">\n    <!-- Table Header Actions -->\n    <div v-if=\"$slots.actions || searchable\" class=\"table-header mb-3\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <slot name=\"actions\" />\n        </div>\n        <div v-if=\"searchable\" class=\"col-md-6\">\n          <div class=\"form-group mb-0\">\n            <input\n              v-model=\"searchQuery\"\n              type=\"text\"\n              class=\"form-control\"\n              :placeholder=\"searchPlaceholder\"\n              @input=\"onSearch\"\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"text-center py-5\">\n      <BaseSpinner variant=\"primary\" />\n      <p class=\"mt-2 text-muted\">{{ loadingText }}</p>\n    </div>\n\n    <!-- Empty State -->\n    <div v-else-if=\"!paginatedItems.length\" class=\"text-center py-5\">\n      <slot name=\"empty\">\n        <i class=\"fas fa-inbox fa-3x text-muted mb-3\"></i>\n        <p class=\"text-muted\">{{ emptyText }}</p>\n      </slot>\n    </div>\n\n    <!-- Table -->\n    <div v-else class=\"table-responsive\">\n      <table class=\"table\" :class=\"tableClasses\">\n        <thead>\n          <tr>\n            <th v-if=\"selectable\" class=\"selection-column\">\n              <input\n                v-if=\"selectMode === 'multi'\"\n                type=\"checkbox\"\n                class=\"form-check-input\"\n                :checked=\"isAllSelected\"\n                :indeterminate=\"isIndeterminate\"\n                @change=\"toggleSelectAll\"\n              >\n            </th>\n            <th\n              v-for=\"field in normalizedFields\"\n              :key=\"field.key\"\n              :class=\"getHeaderClass(field)\"\n              @click=\"handleSort(field)\"\n            >\n              <div class=\"d-flex align-items-center\">\n                <span>{{ field.label }}</span>\n                <span v-if=\"field.sortable\" class=\"sort-icon ms-1\">\n                  <i v-if=\"sortBySync === field.key && sortDescSync\" class=\"fas fa-sort-down\"></i>\n                  <i v-else-if=\"sortBySync === field.key && !sortDescSync\" class=\"fas fa-sort-up\"></i>\n                  <i v-else class=\"fas fa-sort text-muted opacity-50\"></i>\n                </span>\n              </div>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"(item, index) in paginatedItems\"\n            :key=\"item.id || index\"\n            :class=\"{ 'table-active': isRowSelected(item) }\"\n            @click=\"handleRowClick(item, index, $event)\"\n          >\n            <td v-if=\"selectable\" class=\"selection-column\">\n              <input\n                type=\"checkbox\"\n                class=\"form-check-input\"\n                :checked=\"isRowSelected(item)\"\n                @click.stop\n                @change=\"toggleRowSelection(item)\"\n              >\n            </td>\n            <td\n              v-for=\"field in normalizedFields\"\n              :key=\"field.key\"\n              :class=\"getCellClass(field)\"\n            >\n              <slot :name=\"`cell(${field.key})`\" :value=\"getFieldValue(item, field)\" :item=\"item\" :field=\"field\">\n                {{ formatFieldValue(item, field) }}\n              </slot>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Pagination -->\n    <div v-if=\"paginate && totalRows > perPage\" class=\"d-flex justify-content-between align-items-center mt-3\">\n      <div class=\"text-muted\">\n        表示 {{ paginationInfo.from }} - {{ paginationInfo.to }} / 全 {{ totalRows }} 件\n      </div>\n      <nav aria-label=\"Table pagination\">\n        <ul class=\"pagination mb-0\">\n          <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n            <button class=\"page-link\" @click=\"changePage(currentPage - 1)\" :disabled=\"currentPage === 1\">\n              前へ\n            </button>\n          </li>\n          <li\n            v-for=\"page in visiblePages\"\n            :key=\"page\"\n            class=\"page-item\"\n            :class=\"{ active: page === currentPage }\"\n          >\n            <button class=\"page-link\" @click=\"changePage(page)\">\n              {{ page }}\n            </button>\n          </li>\n          <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n            <button class=\"page-link\" @click=\"changePage(currentPage + 1)\" :disabled=\"currentPage === totalPages\">\n              次へ\n            </button>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue';\nimport BaseSpinner from './BaseSpinner.vue';\n\n// Props\nconst props = defineProps({\n  items: {\n    type: Array,\n    required: true\n  },\n  fields: {\n    type: Array,\n    required: true\n  },\n  loading: {\n    type: Boolean,\n    default: false\n  },\n  busy: {\n    type: Boolean,\n    default: false\n  },\n  striped: {\n    type: Boolean,\n    default: true\n  },\n  bordered: {\n    type: Boolean,\n    default: false\n  },\n  hover: {\n    type: Boolean,\n    default: true\n  },\n  small: {\n    type: Boolean,\n    default: false\n  },\n  fixed: {\n    type: Boolean,\n    default: false\n  },\n  responsive: {\n    type: Boolean,\n    default: true\n  },\n  selectable: {\n    type: Boolean,\n    default: false\n  },\n  selectMode: {\n    type: String,\n    default: 'multi',\n    validator: (value) => ['single', 'multi', 'range'].includes(value)\n  },\n  searchable: {\n    type: Boolean,\n    default: false\n  },\n  searchPlaceholder: {\n    type: String,\n    default: '検索...'\n  },\n  searchFields: {\n    type: Array,\n    default: () => []\n  },\n  paginate: {\n    type: Boolean,\n    default: true\n  },\n  perPage: {\n    type: Number,\n    default: 20\n  },\n  paginationLimit: {\n    type: Number,\n    default: 5\n  },\n  sortBy: {\n    type: String,\n    default: null\n  },\n  sortDesc: {\n    type: Boolean,\n    default: false\n  },\n  emptyText: {\n    type: String,\n    default: 'データがありません'\n  },\n  loadingText: {\n    type: String,\n    default: '読み込み中...'\n  }\n});\n\n// Emits\nconst emit = defineEmits([\n  'search',\n  'row-selected',\n  'row-clicked',\n  'sort-changed',\n  'update:sortBy',\n  'update:sortDesc',\n  'page-change'\n]);\n\n// State\nconst searchQuery = ref('');\nconst currentPage = ref(1);\nconst sortBySync = ref(props.sortBy);\nconst sortDescSync = ref(props.sortDesc);\nconst selectedRows = ref([]);\n\n// Computed\nconst normalizedFields = computed(() => {\n  return props.fields.map(field => {\n    if (typeof field === 'string') {\n      return { key: field, label: field, sortable: true };\n    }\n    return {\n      key: field.key,\n      label: field.label || field.key,\n      sortable: field.sortable !== false,\n      thClass: field.thClass || '',\n      tdClass: field.tdClass || '',\n      formatter: field.formatter\n    };\n  });\n});\n\nconst tableClasses = computed(() => ({\n  'table-striped': props.striped,\n  'table-bordered': props.bordered,\n  'table-hover': props.hover,\n  'table-sm': props.small\n}));\n\nconst filteredItems = computed(() => {\n  if (!props.searchable || !searchQuery.value) {\n    return props.items;\n  }\n\n  const query = searchQuery.value.toLowerCase();\n  const searchFields = props.searchFields.length ? props.searchFields : normalizedFields.value.map(f => f.key);\n\n  return props.items.filter(item => {\n    return searchFields.some(field => {\n      const value = getNestedProperty(item, field);\n      return value && value.toString().toLowerCase().includes(query);\n    });\n  });\n});\n\nconst sortedItems = computed(() => {\n  if (!sortBySync.value) {\n    return filteredItems.value;\n  }\n\n  const sorted = [...filteredItems.value].sort((a, b) => {\n    const aVal = getNestedProperty(a, sortBySync.value);\n    const bVal = getNestedProperty(b, sortBySync.value);\n    \n    if (aVal === bVal) return 0;\n    if (aVal === null || aVal === undefined) return 1;\n    if (bVal === null || bVal === undefined) return -1;\n    \n    if (typeof aVal === 'string') {\n      return aVal.localeCompare(bVal);\n    }\n    \n    return aVal < bVal ? -1 : 1;\n  });\n\n  return sortDescSync.value ? sorted.reverse() : sorted;\n});\n\nconst totalRows = computed(() => sortedItems.value.length);\nconst totalPages = computed(() => Math.ceil(totalRows.value / props.perPage));\n\nconst paginatedItems = computed(() => {\n  if (!props.paginate) {\n    return sortedItems.value;\n  }\n  \n  const start = (currentPage.value - 1) * props.perPage;\n  const end = start + props.perPage;\n  return sortedItems.value.slice(start, end);\n});\n\nconst paginationInfo = computed(() => {\n  const from = (currentPage.value - 1) * props.perPage + 1;\n  const to = Math.min(currentPage.value * props.perPage, totalRows.value);\n  return { from, to };\n});\n\nconst visiblePages = computed(() => {\n  const pages = [];\n  const half = Math.floor(props.paginationLimit / 2);\n  let start = Math.max(1, currentPage.value - half);\n  let end = Math.min(totalPages.value, start + props.paginationLimit - 1);\n  \n  if (end - start < props.paginationLimit - 1) {\n    start = Math.max(1, end - props.paginationLimit + 1);\n  }\n  \n  for (let i = start; i <= end; i++) {\n    pages.push(i);\n  }\n  \n  return pages;\n});\n\nconst isAllSelected = computed(() => {\n  return paginatedItems.value.length > 0 && paginatedItems.value.every(item => isRowSelected(item));\n});\n\nconst isIndeterminate = computed(() => {\n  return selectedRows.value.length > 0 && !isAllSelected.value;\n});\n\n// Methods\nconst getNestedProperty = (obj, path) => {\n  return path.split('.').reduce((curr, prop) => curr?.[prop], obj);\n};\n\nconst getFieldValue = (item, field) => {\n  return getNestedProperty(item, field.key);\n};\n\nconst formatFieldValue = (item, field) => {\n  const value = getFieldValue(item, field);\n  if (field.formatter) {\n    return field.formatter(value, field.key, item);\n  }\n  return value ?? '';\n};\n\nconst getHeaderClass = (field) => {\n  return {\n    [field.thClass]: field.thClass,\n    'sortable': field.sortable,\n    'cursor-pointer': field.sortable\n  };\n};\n\nconst getCellClass = (field) => {\n  return field.tdClass || '';\n};\n\nconst handleSort = (field) => {\n  if (!field.sortable) return;\n  \n  if (sortBySync.value === field.key) {\n    sortDescSync.value = !sortDescSync.value;\n  } else {\n    sortBySync.value = field.key;\n    sortDescSync.value = false;\n  }\n  \n  emit('sort-changed', {\n    sortBy: sortBySync.value,\n    sortDesc: sortDescSync.value\n  });\n  emit('update:sortBy', sortBySync.value);\n  emit('update:sortDesc', sortDescSync.value);\n};\n\nconst onSearch = () => {\n  currentPage.value = 1;\n  emit('search', searchQuery.value);\n};\n\nconst isRowSelected = (item) => {\n  return selectedRows.value.some(selected => {\n    return JSON.stringify(selected) === JSON.stringify(item);\n  });\n};\n\nconst toggleRowSelection = (item) => {\n  if (props.selectMode === 'single') {\n    selectedRows.value = isRowSelected(item) ? [] : [item];\n  } else {\n    const index = selectedRows.value.findIndex(selected => \n      JSON.stringify(selected) === JSON.stringify(item)\n    );\n    if (index > -1) {\n      selectedRows.value.splice(index, 1);\n    } else {\n      selectedRows.value.push(item);\n    }\n  }\n  emit('row-selected', selectedRows.value);\n};\n\nconst toggleSelectAll = () => {\n  if (isAllSelected.value) {\n    paginatedItems.value.forEach(item => {\n      const index = selectedRows.value.findIndex(selected => \n        JSON.stringify(selected) === JSON.stringify(item)\n      );\n      if (index > -1) {\n        selectedRows.value.splice(index, 1);\n      }\n    });\n  } else {\n    paginatedItems.value.forEach(item => {\n      if (!isRowSelected(item)) {\n        selectedRows.value.push(item);\n      }\n    });\n  }\n  emit('row-selected', selectedRows.value);\n};\n\nconst handleRowClick = (item, index, event) => {\n  emit('row-clicked', item, index, event);\n};\n\nconst changePage = (page) => {\n  if (page < 1 || page > totalPages.value) return;\n  currentPage.value = page;\n  emit('page-change', page);\n};\n\n// Watchers\nwatch(() => props.sortBy, (val) => {\n  sortBySync.value = val;\n});\n\nwatch(() => props.sortDesc, (val) => {\n  sortDescSync.value = val;\n});\n\nwatch(searchQuery, () => {\n  currentPage.value = 1;\n});\n\n// Expose methods\ndefineExpose({\n  clearSelection: () => {\n    selectedRows.value = [];\n    emit('row-selected', []);\n  },\n  selectRow: (index) => {\n    if (index >= 0 && index < paginatedItems.value.length) {\n      toggleRowSelection(paginatedItems.value[index]);\n    }\n  }\n});\n</script>\n\n<style scoped>\n.base-table-wrapper {\n  background: white;\n  border-radius: 8px;\n  padding: 1.5rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.table-header {\n  border-bottom: 1px solid #dee2e6;\n  padding-bottom: 1rem;\n}\n\n.table-responsive {\n  margin: -1.5rem;\n  padding: 1.5rem;\n  overflow-x: auto;\n}\n\n.table {\n  margin-bottom: 0;\n}\n\n.sortable {\n  user-select: none;\n}\n\n.sort-icon {\n  display: inline-flex;\n  align-items: center;\n}\n\n.selection-column {\n  width: 40px;\n  text-align: center;\n}\n\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.opacity-50 {\n  opacity: 0.5;\n}\n\n.page-link {\n  cursor: pointer;\n}\n\n.page-item.disabled .page-link {\n  cursor: not-allowed;\n}\n\n@media (max-width: 768px) {\n  .base-table-wrapper {\n    padding: 1rem;\n  }\n  \n  .table-responsive {\n    margin: -1rem;\n    padding: 1rem;\n  }\n}\n</style>"],"names":["props","__props","emit","__emit","searchQuery","ref","currentPage","sortBySync","sortDescSync","selectedRows","normalizedFields","computed","field","tableClasses","filteredItems","query","searchFields","f","item","value","getNestedProperty","sortedItems","sorted","a","b","aVal","bVal","totalRows","totalPages","paginatedItems","start","end","paginationInfo","from","to","visiblePages","pages","half","i","isAllSelected","isRowSelected","isIndeterminate","obj","path","curr","prop","getFieldValue","formatFieldValue","getHeaderClass","getCellClass","handleSort","onSearch","selected","toggleRowSelection","index","toggleSelectAll","handleRowClick","event","changePage","page","watch","val","__expose","_openBlock","_createElementBlock","_hoisted_1","$slots","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_renderSlot","_ctx","_hoisted_5","_hoisted_6","$event","_hoisted_8","_createVNode","BaseSpinner","_hoisted_9","_toDisplayString","_hoisted_12","_normalizeClass","_hoisted_13","_Fragment","_renderList","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_22","_hoisted_10","_hoisted_11","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_cache","_hoisted_28","_hoisted_29","_hoisted_30"],"mappings":"0nEAwIA,MAAMA,EAAQC,EA6FRC,EAAOC,EAWPC,EAAcC,EAAI,EAAE,EACpBC,EAAcD,EAAI,CAAC,EACnBE,EAAaF,EAAIL,EAAM,MAAM,EAC7BQ,EAAeH,EAAIL,EAAM,QAAQ,EACjCS,EAAeJ,EAAI,EAAE,EAGrBK,EAAmBC,EAAS,IACzBX,EAAM,OAAO,IAAIY,GAClB,OAAOA,GAAU,SACZ,CAAE,IAAKA,EAAO,MAAOA,EAAO,SAAU,EAAM,EAE9C,CACL,IAAKA,EAAM,IACX,MAAOA,EAAM,OAASA,EAAM,IAC5B,SAAUA,EAAM,WAAa,GAC7B,QAASA,EAAM,SAAW,GAC1B,QAASA,EAAM,SAAW,GAC1B,UAAWA,EAAM,SAClB,CACF,CACF,EAEKC,EAAeF,EAAS,KAAO,CACnC,gBAAiBX,EAAM,QACvB,iBAAkBA,EAAM,SACxB,cAAeA,EAAM,MACrB,WAAYA,EAAM,KACpB,EAAE,EAEIc,EAAgBH,EAAS,IAAM,CACnC,GAAI,CAACX,EAAM,YAAc,CAACI,EAAY,MACpC,OAAOJ,EAAM,MAGf,MAAMe,EAAQX,EAAY,MAAM,YAAa,EACvCY,EAAehB,EAAM,aAAa,OAASA,EAAM,aAAeU,EAAiB,MAAM,IAAIO,GAAKA,EAAE,GAAG,EAE3G,OAAOjB,EAAM,MAAM,OAAOkB,GACjBF,EAAa,KAAKJ,GAAS,CAChC,MAAMO,EAAQC,EAAkBF,EAAMN,CAAK,EAC3C,OAAOO,GAASA,EAAM,SAAQ,EAAG,YAAa,EAAC,SAASJ,CAAK,CACnE,CAAK,CACF,CACH,CAAC,EAEKM,EAAcV,EAAS,IAAM,CACjC,GAAI,CAACJ,EAAW,MACd,OAAOO,EAAc,MAGvB,MAAMQ,EAAS,CAAC,GAAGR,EAAc,KAAK,EAAE,KAAK,CAACS,EAAGC,IAAM,CACrD,MAAMC,EAAOL,EAAkBG,EAAGhB,EAAW,KAAK,EAC5CmB,EAAON,EAAkBI,EAAGjB,EAAW,KAAK,EAElD,OAAIkB,IAASC,EAAa,EACtBD,GAAS,KAAmC,EAC5CC,GAAS,KAAmC,GAE5C,OAAOD,GAAS,SACXA,EAAK,cAAcC,CAAI,EAGzBD,EAAOC,EAAO,GAAK,CAC9B,CAAG,EAED,OAAOlB,EAAa,MAAQc,EAAO,QAAS,EAAGA,CACjD,CAAC,EAEKK,EAAYhB,EAAS,IAAMU,EAAY,MAAM,MAAM,EACnDO,EAAajB,EAAS,IAAM,KAAK,KAAKgB,EAAU,MAAQ3B,EAAM,OAAO,CAAC,EAEtE6B,EAAiBlB,EAAS,IAAM,CACpC,GAAI,CAACX,EAAM,SACT,OAAOqB,EAAY,MAGrB,MAAMS,GAASxB,EAAY,MAAQ,GAAKN,EAAM,QACxC+B,EAAMD,EAAQ9B,EAAM,QAC1B,OAAOqB,EAAY,MAAM,MAAMS,EAAOC,CAAG,CAC3C,CAAC,EAEKC,EAAiBrB,EAAS,IAAM,CACpC,MAAMsB,GAAQ3B,EAAY,MAAQ,GAAKN,EAAM,QAAU,EACjDkC,EAAK,KAAK,IAAI5B,EAAY,MAAQN,EAAM,QAAS2B,EAAU,KAAK,EACtE,MAAO,CAAE,KAAAM,EAAM,GAAAC,CAAI,CACrB,CAAC,EAEKC,EAAexB,EAAS,IAAM,CAClC,MAAMyB,EAAQ,CAAE,EACVC,EAAO,KAAK,MAAMrC,EAAM,gBAAkB,CAAC,EACjD,IAAI8B,EAAQ,KAAK,IAAI,EAAGxB,EAAY,MAAQ+B,CAAI,EAC5CN,EAAM,KAAK,IAAIH,EAAW,MAAOE,EAAQ9B,EAAM,gBAAkB,CAAC,EAElE+B,EAAMD,EAAQ9B,EAAM,gBAAkB,IACxC8B,EAAQ,KAAK,IAAI,EAAGC,EAAM/B,EAAM,gBAAkB,CAAC,GAGrD,QAASsC,EAAIR,EAAOQ,GAAKP,EAAKO,IAC5BF,EAAM,KAAKE,CAAC,EAGd,OAAOF,CACT,CAAC,EAEKG,EAAgB5B,EAAS,IACtBkB,EAAe,MAAM,OAAS,GAAKA,EAAe,MAAM,MAAMX,GAAQsB,EAActB,CAAI,CAAC,CACjG,EAEKuB,EAAkB9B,EAAS,IACxBF,EAAa,MAAM,OAAS,GAAK,CAAC8B,EAAc,KACxD,EAGKnB,EAAoB,CAACsB,EAAKC,IACvBA,EAAK,MAAM,GAAG,EAAE,OAAO,CAACC,EAAMC,IAASD,GAAA,YAAAA,EAAOC,GAAOH,CAAG,EAG3DI,EAAgB,CAAC5B,EAAMN,IACpBQ,EAAkBF,EAAMN,EAAM,GAAG,EAGpCmC,EAAmB,CAAC7B,EAAMN,IAAU,CACxC,MAAMO,EAAQ2B,EAAc5B,EAAMN,CAAK,EACvC,OAAIA,EAAM,UACDA,EAAM,UAAUO,EAAOP,EAAM,IAAKM,CAAI,EAExCC,GAAS,EAClB,EAEM6B,EAAkBpC,IACf,CACL,CAACA,EAAM,OAAO,EAAGA,EAAM,QACvB,SAAYA,EAAM,SAClB,iBAAkBA,EAAM,QACzB,GAGGqC,EAAgBrC,GACbA,EAAM,SAAW,GAGpBsC,EAActC,GAAU,CACvBA,EAAM,WAEPL,EAAW,QAAUK,EAAM,IAC7BJ,EAAa,MAAQ,CAACA,EAAa,OAEnCD,EAAW,MAAQK,EAAM,IACzBJ,EAAa,MAAQ,IAGvBN,EAAK,eAAgB,CACnB,OAAQK,EAAW,MACnB,SAAUC,EAAa,KAC3B,CAAG,EACDN,EAAK,gBAAiBK,EAAW,KAAK,EACtCL,EAAK,kBAAmBM,EAAa,KAAK,EAC5C,EAEM2C,EAAW,IAAM,CACrB7C,EAAY,MAAQ,EACpBJ,EAAK,SAAUE,EAAY,KAAK,CAClC,EAEMoC,EAAiBtB,GACdT,EAAa,MAAM,KAAK2C,GACtB,KAAK,UAAUA,CAAQ,IAAM,KAAK,UAAUlC,CAAI,CACxD,EAGGmC,EAAsBnC,GAAS,CACnC,GAAIlB,EAAM,aAAe,SACvBS,EAAa,MAAQ+B,EAActB,CAAI,EAAI,CAAA,EAAK,CAACA,CAAI,MAChD,CACL,MAAMoC,EAAQ7C,EAAa,MAAM,UAAU2C,GACzC,KAAK,UAAUA,CAAQ,IAAM,KAAK,UAAUlC,CAAI,CACjD,EACGoC,EAAQ,GACV7C,EAAa,MAAM,OAAO6C,EAAO,CAAC,EAElC7C,EAAa,MAAM,KAAKS,CAAI,CAElC,CACEhB,EAAK,eAAgBO,EAAa,KAAK,CACzC,EAEM8C,EAAkB,IAAM,CACxBhB,EAAc,MAChBV,EAAe,MAAM,QAAQX,GAAQ,CACnC,MAAMoC,EAAQ7C,EAAa,MAAM,UAAU2C,GACzC,KAAK,UAAUA,CAAQ,IAAM,KAAK,UAAUlC,CAAI,CACjD,EACGoC,EAAQ,IACV7C,EAAa,MAAM,OAAO6C,EAAO,CAAC,CAE1C,CAAK,EAEDzB,EAAe,MAAM,QAAQX,GAAQ,CAC9BsB,EAActB,CAAI,GACrBT,EAAa,MAAM,KAAKS,CAAI,CAEpC,CAAK,EAEHhB,EAAK,eAAgBO,EAAa,KAAK,CACzC,EAEM+C,EAAiB,CAACtC,EAAMoC,EAAOG,IAAU,CAC7CvD,EAAK,cAAegB,EAAMoC,EAAOG,CAAK,CACxC,EAEMC,EAAcC,GAAS,CACvBA,EAAO,GAAKA,EAAO/B,EAAW,QAClCtB,EAAY,MAAQqD,EACpBzD,EAAK,cAAeyD,CAAI,EAC1B,EAGA,OAAAC,EAAM,IAAM5D,EAAM,OAAS6D,GAAQ,CACjCtD,EAAW,MAAQsD,CACrB,CAAC,EAEDD,EAAM,IAAM5D,EAAM,SAAW6D,GAAQ,CACnCrD,EAAa,MAAQqD,CACvB,CAAC,EAEDD,EAAMxD,EAAa,IAAM,CACvBE,EAAY,MAAQ,CACtB,CAAC,EAGDwD,EAAa,CACX,eAAgB,IAAM,CACpBrD,EAAa,MAAQ,CAAE,EACvBP,EAAK,eAAgB,EAAE,CACxB,EACD,UAAYoD,GAAU,CAChBA,GAAS,GAAKA,EAAQzB,EAAe,MAAM,QAC7CwB,EAAmBxB,EAAe,MAAMyB,CAAK,CAAC,CAEpD,CACA,CAAC,UAheCS,EAAA,EAAAC,EA+HM,MA/HNC,GA+HM,CA7HOC,EAAM,OAAC,SAAWjE,EAAU,YAAvC8D,IAAAC,EAiBM,MAjBNG,GAiBM,CAhBJC,EAeM,MAfNC,GAeM,CAdJD,EAEM,MAFNE,GAEM,CADJC,EAAuBC,EAAA,OAAA,UAAA,CAAA,EAAA,OAAA,EAAA,IAEdvE,EAAU,YAArB8D,IAAAC,EAUM,MAVNS,GAUM,CATJL,EAQM,MARNM,GAQM,GAPJN,EAMC,QAAA,sCALUhE,EAAW,MAAAuE,GACpB,KAAK,OACL,MAAM,eACL,YAAa1E,EAAiB,kBAC9B,QAAOkD,mBAJC/C,EAAW,KAAA,gCAYnBH,EAAO,SAAlB8D,IAAAC,EAGM,MAHNY,GAGM,CAFJC,EAAiCC,GAAA,CAApB,QAAQ,SAAS,CAAA,EAC9BV,EAAgD,IAAhDW,GAAgDC,EAAlB/E,EAAW,WAAA,EAAA,CAAA,KAI1B4B,EAAA,MAAe,QAQhCkC,IAAAC,EA2DM,MA3DNiB,GA2DM,CA1DJb,EAyDQ,QAAA,CAzDD,MAAKc,EAAA,CAAC,QAAgBrE,EAAY,KAAA,CAAA,IACvCuD,EA4BQ,QAAA,KAAA,CA3BNA,EA0BK,KAAA,KAAA,CAzBOnE,EAAU,YAApB8D,IAAAC,EASK,KATLmB,GASK,CAPKlF,EAAU,aAAA,aADlB+D,EAOC,QAAA,OALC,KAAK,WACL,MAAM,mBACL,QAASzB,EAAa,MACtB,cAAeE,EAAe,MAC9B,SAAQc,4CAGbS,EAcKoB,EAAA,KAAAC,EAba3E,EAAgB,MAAzBE,QADToD,EAcK,KAAA,CAZF,IAAKpD,EAAM,IACX,MAAKsE,EAAElC,EAAepC,CAAK,CAAA,EAC3B,QAAK+D,GAAEzB,EAAWtC,CAAK,IAExBwD,EAOM,MAPNkB,GAOM,CANJlB,EAA8B,OAAA,KAAAY,EAArBpE,EAAM,KAAK,EAAA,CAAA,EACRA,EAAM,UAAlBmD,IAAAC,EAIO,OAJPuB,GAIO,CAHIhF,EAAA,QAAeK,EAAM,KAAOJ,EAAY,OAAjDuD,IAAAC,EAAgF,IAAhFwB,EAAgF,GAClEjF,EAAA,QAAeK,EAAM,MAAQJ,EAAY,OAAvDuD,IAAAC,EAAoF,IAApFyB,EAAoF,IACpF1B,IAAAC,EAAwD,IAAxD0B,EAAwD,qCAMlEtB,EA0BQ,QAAA,KAAA,EAzBNL,EAAA,EAAA,EAAAC,EAwBKoB,EAvBqB,KAAAC,EAAAxD,EAAA,MAAhB,CAAAX,EAAMoC,SADhBU,EAwBK,KAAA,CAtBF,IAAK9C,EAAK,IAAMoC,EAChB,MAAK4B,EAAA,CAAA,eAAoB1C,EAActB,CAAI,CAAA,CAAA,EAC3C,WAAOsC,EAAetC,EAAMoC,EAAOqB,CAAM,IAEhC1E,EAAU,YAApB8D,IAAAC,EAQK,KARL2B,GAQK,CAPHvB,EAMC,QAAA,CALC,KAAK,WACL,MAAM,mBACL,QAAS5B,EAActB,CAAI,EAC3B,uBAAD,IAAW,CAAA,EAAA,CAAA,MAAA,CAAA,GACV,SAAMyD,GAAEtB,EAAmBnC,CAAI,kCAGpC8C,EAQKoB,EAAA,KAAAC,EAPa3E,EAAgB,MAAzBE,QADToD,EAQK,KAAA,CANF,IAAKpD,EAAM,IACX,MAAKsE,EAAEjC,EAAarC,CAAK,CAAA,IAE1B2D,EAEOC,EAAA,OAAA,QAFc5D,EAAM,GAAG,IAAA,CAAM,MAAOkC,EAAc5B,EAAMN,CAAK,EAAI,KAAMM,EAAO,MAAON,GAA5F,IAEO,MADFmC,EAAiB7B,EAAMN,CAAK,CAAA,EAAA,CAAA,6CA7D3CmD,IAAAC,EAKM,MALN4B,GAKM,CAJJrB,EAGOC,oBAHP,IAGO,aAFLJ,EAAkD,IAAA,CAA/C,MAAM,oCAAoC,EAAA,KAAA,EAAA,GAC7CA,EAAyC,IAAzCyB,GAAyCb,EAAhB/E,EAAS,SAAA,EAAA,CAAA,UAmE3BA,EAAQ,UAAI0B,EAAS,MAAG1B,EAAO,SAA1C8D,IAAAC,EA4BM,MA5BN8B,GA4BM,CA3BJ1B,EAEM,MAFN2B,GAAwB,OAChBf,EAAAhD,EAAA,MAAe,IAAI,EAAG,MAAMgD,EAAAhD,EAAA,MAAe,EAAE,EAAG,QAAQgD,EAAArD,EAAA,KAAS,EAAG,MAC5E,CAAA,EACAyC,EAuBM,MAvBN4B,GAuBM,CAtBJ5B,EAqBK,KArBL6B,GAqBK,CApBH7B,EAIK,KAAA,CAJD,MAAKc,EAAA,CAAC,YAAW,CAAA,SAAqB5E,EAAW,QAAA,EAAA,CAAA,IACnD8D,EAES,SAAA,CAFD,MAAM,YAAa,QAAK8B,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAvB,GAAEjB,EAAWpD,EAAW,MAAA,CAAA,GAAQ,SAAUA,EAAW,QAAA,GAAQ,OAE7F,EAAA6F,EAAA,aAEFnC,EASKoB,EAAA,KAAAC,EARYlD,EAAY,MAApBwB,QADTK,EASK,KAAA,CAPF,IAAKL,EACN,MAAMuB,EAAA,CAAA,YACY,CAAA,OAAAvB,IAASrD,EAAW,MAAA,CAAA,IAEtC8D,EAES,SAAA,CAFD,MAAM,YAAa,QAAKO,GAAEjB,EAAWC,CAAI,KAC5CA,CAAI,EAAA,EAAAyC,EAAA,cAGXhC,EAIK,KAAA,CAJD,MAAMc,EAAA,CAAA,YAAgC,CAAA,SAAA5E,EAAA,QAAgBsB,EAAU,MAAA,CAAA,IAClEwC,EAES,SAAA,CAFD,MAAM,YAAa,QAAK8B,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAvB,GAAEjB,EAAWpD,EAAW,MAAA,CAAA,GAAQ,SAAUA,EAAW,QAAKsB,EAAU,OAAE,OAEtG,EAAAyE,EAAA"}