import{_ as c,g as h,d as p,i as a,e as f,k as u,q as g,t as m,n as l,f as w,m as y,x as b,T as I}from"./application-Ba7ZNAVT.js";import"/img/ggsheet.png";const v={name:"BaseDropdown",props:{text:{type:String,default:""},variant:{type:String,default:"secondary"},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},disabled:{type:Boolean,default:!1},right:{type:Boolean,default:!1},up:{type:Boolean,default:!1},offset:{type:Number,default:0},boundary:{type:String,default:"scrollParent"},split:{type:Boolean,default:!1}},data(){return{isOpen:!1,toggleId:`dropdown-toggle-${this._uid}`}},computed:{dropdownClasses(){return{dropdown:!this.up,dropup:this.up,show:this.isOpen}},toggleClasses(){return["btn",`btn-${this.variant}`,`btn-${this.size}`,{"dropdown-toggle-split":this.split}]},menuClasses(){return{show:this.isOpen,"dropdown-menu-right":this.right,"dropdown-menu-up":this.up}}},mounted(){document.addEventListener("click",this.handleClickOutside),document.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside),document.removeEventListener("keydown",this.handleKeydown)},methods:{toggle(){this.disabled||(this.isOpen=!this.isOpen,this.isOpen&&this.$nextTick(()=>{this.positionMenu(),this.focusFirstItem()}))},open(){this.disabled||(this.isOpen=!0,this.$nextTick(()=>{this.positionMenu(),this.focusFirstItem()}))},close(){this.isOpen=!1},handleClickOutside(e){this.$el.contains(e.target)||this.close()},handleKeydown(e){if(this.isOpen)switch(e.key){case"Escape":this.close(),this.$refs.dropdown.querySelector(".dropdown-toggle").focus();break;case"ArrowDown":e.preventDefault(),this.focusNextItem();break;case"ArrowUp":e.preventDefault(),this.focusPreviousItem();break;case"Home":e.preventDefault(),this.focusFirstItem();break;case"End":e.preventDefault(),this.focusLastItem();break}},positionMenu(){const e=this.$refs.menu,s=this.$refs.dropdown.querySelector(".dropdown-toggle");if(!e||!s)return;const t=s.getBoundingClientRect(),i=e.getBoundingClientRect(),n=window.innerHeight,o=window.innerWidth;e.style.top="",e.style.left="",e.style.right="",e.style.bottom="";let r=t.bottom+this.offset,d=t.left;this.right&&(d=t.right-i.width),this.up||r+i.height>n&&t.top>i.height?(r=t.top-i.height-this.offset,e.classList.add("dropdown-menu-up")):e.classList.remove("dropdown-menu-up"),d<0&&(d=0),d+i.width>o&&(d=o-i.width),e.style.position="fixed",e.style.top=`${r}px`,e.style.left=`${d}px`},getMenuItems(){return Array.from(this.$refs.menu.querySelectorAll(".dropdown-item:not(.disabled):not(:disabled)"))},focusFirstItem(){const e=this.getMenuItems();e.length>0&&e[0].focus()},focusLastItem(){const e=this.getMenuItems();e.length>0&&e[e.length-1].focus()},focusNextItem(){const e=this.getMenuItems(),s=e.findIndex(t=>t===document.activeElement);s<e.length-1?e[s+1].focus():e[0].focus()},focusPreviousItem(){const e=this.getMenuItems(),s=e.findIndex(t=>t===document.activeElement);s>0?e[s-1].focus():e[e.length-1].focus()}}},k=["id","disabled","aria-expanded"],x=["aria-labelledby"];function C(e,s,t,i,n,o){return p(),h("div",{class:l(["base-dropdown",o.dropdownClasses]),ref:"dropdown"},[a("button",{id:n.toggleId,class:l(["dropdown-toggle",o.toggleClasses]),disabled:t.disabled,type:"button","aria-haspopup":"true","aria-expanded":n.isOpen,onClick:s[0]||(s[0]=(...r)=>o.toggle&&o.toggle(...r))},[u(e.$slots,"button-content",{},()=>[g(m(t.text),1)],!0)],10,k),f(I,{name:"dropdown-fade"},{default:w(()=>[y(a("div",{class:l(["dropdown-menu",o.menuClasses]),"aria-labelledby":n.toggleId,ref:"menu"},[u(e.$slots,"default",{},void 0,!0)],10,x),[[b,n.isOpen]])],void 0,!0),_:3})],2)}const B=c(v,[["render",C],["__scopeId","data-v-3d54ea41"]]);export{B as default};
//# sourceMappingURL=BaseDropdown-B0IfDdhr.js.map
