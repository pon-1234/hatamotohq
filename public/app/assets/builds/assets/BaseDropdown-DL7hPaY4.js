import{_ as N,r as p,c as f,o as q,x as A,g as M,d as R,i as k,e as T,k as x,q as z,t as H,n as m,f as V,m as O,y as P,T as U,u as W}from"./application-HzKTbzhb.js";import"/img/ggsheet.png";const F=["disabled","aria-expanded"],K={__name:"BaseDropdown",props:{text:{type:String,default:""},variant:{type:String,default:"secondary"},size:{type:String,default:"md",validator:d=>["sm","md","lg"].includes(d)},disabled:{type:Boolean,default:!1},right:{type:Boolean,default:!1},up:{type:Boolean,default:!1},offset:{type:Number,default:0},boundary:{type:String,default:"scrollParent"},split:{type:Boolean,default:!1}},setup(d){const t=d,o=p(!1),g=`dropdown-toggle-${Math.random().toString(36).substr(2,9)}`,r=p(null),u=p(null),B=f(()=>({dropdown:!t.up,dropup:t.up,show:o.value})),I=f(()=>["btn",`btn-${t.variant}`,`btn-${t.size}`,{"dropdown-toggle-split":t.split}]),S=f(()=>({show:o.value,"dropdown-menu-right":t.right,"dropdown-menu-up":t.up}));q(()=>{document.addEventListener("click",v),document.addEventListener("keydown",h)}),A(()=>{document.removeEventListener("click",v),document.removeEventListener("keydown",h)});const E=()=>{t.disabled||(o.value=!o.value,o.value&&W(()=>{_(),y()}))},w=()=>{o.value=!1},v=e=>{r.value.contains(e.target)||w()},h=e=>{if(o.value)switch(e.key){case"Escape":w(),r.value.querySelector(".dropdown-toggle").focus();break;case"ArrowDown":e.preventDefault(),D();break;case"ArrowUp":e.preventDefault(),L();break;case"Home":e.preventDefault(),y();break;case"End":e.preventDefault(),C();break}},_=()=>{const e=u.value,n=r.value.querySelector(".dropdown-toggle");if(!e||!n)return;const s=n.getBoundingClientRect(),a=e.getBoundingClientRect(),$=window.innerHeight,b=window.innerWidth;e.style.top="",e.style.left="",e.style.right="",e.style.bottom="";let c=s.bottom+t.offset,l=s.left;t.right&&(l=s.right-a.width),t.up||c+a.height>$&&s.top>a.height?(c=s.top-a.height-t.offset,e.classList.add("dropdown-menu-up")):e.classList.remove("dropdown-menu-up"),l<0&&(l=0),l+a.width>b&&(l=b-a.width),e.style.position="fixed",e.style.top=`${c}px`,e.style.left=`${l}px`},i=()=>Array.from(u.value.querySelectorAll(".dropdown-item:not(.disabled):not(:disabled)")),y=()=>{const e=i();e.length>0&&e[0].focus()},C=()=>{const e=i();e.length>0&&e[e.length-1].focus()},D=()=>{const e=i(),n=e.findIndex(s=>s===document.activeElement);n<e.length-1?e[n+1].focus():e[0].focus()},L=()=>{const e=i(),n=e.findIndex(s=>s===document.activeElement);n>0?e[n-1].focus():e[e.length-1].focus()};return(e,n)=>(R(),M("div",{class:m(["base-dropdown",B.value]),ref_key:"dropdown",ref:r},[k("button",{id:g,class:m(["dropdown-toggle",I.value]),disabled:d.disabled,type:"button","aria-haspopup":"true","aria-expanded":o.value,onClick:E},[x(e.$slots,"button-content",{},()=>[z(H(d.text),1)],!0)],10,F),T(U,{name:"dropdown-fade"},{default:V(()=>[O(k("div",{class:m(["dropdown-menu",S.value]),"aria-labelledby":g,ref_key:"menu",ref:u},[x(e.$slots,"default",{},void 0,!0)],2),[[P,o.value]])],void 0,!0),_:3})],2))}},J=N(K,[["__scopeId","data-v-0488b03c"]]);export{J as default};
//# sourceMappingURL=BaseDropdown-DL7hPaY4.js.map
