import{_ as I,r as S,b as k,d as s,f as N,s as O,u as j,j as l,k as B,n as w,h as i,i as n,l as u,t as r,F as z,p as A,q as x}from"./application-DFf8udRv.js";import M from"./BaseSpinner-D1LlYdJ2.js";import"/img/ggsheet.png";const D=["id","novalidate"],L={key:0,class:"form-header mb-4"},G={key:0,class:"mb-0"},H={key:1,class:"form-description mb-4"},J={key:0,class:"text-muted"},K={key:2,class:"alert alert-danger",role:"alert"},P={class:"mb-0 pl-3"},Q={key:3,class:"alert alert-success alert-dismissible fade show",role:"alert"},U={class:"form-content"},W={key:4,class:"form-actions mt-4"},X=["disabled"],Y=["disabled"],Z={__name:"BaseForm",props:{id:{type:String,default:null},title:{type:String,default:""},description:{type:String,default:""},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},hideActions:{type:Boolean,default:!1},showResetButton:{type:Boolean,default:!1},showErrorSummary:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},loadingText:{type:String,default:"処理中..."},resetText:{type:String,default:"リセット"},submitVariant:{type:String,default:"primary"},submitClass:{type:String,default:""},validateOnSubmit:{type:Boolean,default:!0}},emits:["submit","reset"],setup(e,{expose:C,emit:E}){const c=e,f=E,a=S(null),d=S(""),T=async()=>{if(!c.loading){if(c.validateOnSubmit&&a.value&&!await a.value.validate()){v();return}f("submit")}},V=()=>{a.value&&a.value.reset(),f("reset")},$=async()=>a.value?await a.value.validate():!0,p=()=>{a.value&&a.value.reset()},F=t=>{a.value&&a.value.setErrors(t)},v=()=>{j(()=>{const t=document.getElementById(c.id)||document.querySelector("form");if(t){const o=t.querySelector(".is-invalid");o&&(o.focus(),o.scrollIntoView({behavior:"smooth",block:"center"}))}})};return C({validate:$,reset:p,setErrors:F,focusFirstError:v,showSuccess:t=>{d.value=t}}),(t,o)=>{const R=O("validation-observer");return s(),k(R,{ref_key:"observer",ref:a},{default:N(({invalid:b,validated:y,errors:m,pending:h})=>[l("form",{id:e.id,class:w({"form-inline":e.inline}),novalidate:e.novalidate,onSubmit:B(T,["prevent"]),onReset:B(V,["prevent"])},[e.title||t.$slots.header?(s(),i("div",L,[e.title?(s(),i("h4",G,r(e.title),1)):n("",!0),u(t.$slots,"header",{},void 0,!0)])):n("",!0),e.description||t.$slots.description?(s(),i("div",H,[e.description?(s(),i("p",J,r(e.description),1)):n("",!0),u(t.$slots,"description",{},void 0,!0)])):n("",!0),e.showErrorSummary&&Object.keys(m).length?(s(),i("div",K,[o[1]||(o[1]=l("h6",{class:"alert-heading"},"入力エラーがあります",-1)),l("ul",P,[(s(!0),i(z,null,A(m,(g,q)=>(s(),i("li",{key:q},r(g[0]),1))),128))])])):n("",!0),d.value?(s(),i("div",Q,[x(r(d.value)+" ",1),l("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:o[0]||(o[0]=g=>d.value="")})])):n("",!0),l("div",U,[u(t.$slots,"default",{errors:m,pending:h},void 0,!0)]),e.hideActions?n("",!0):(s(),i("div",W,[u(t.$slots,"actions",{invalid:b,validated:y,pending:h},()=>[e.showResetButton?(s(),i("button",{key:0,type:"reset",class:"btn btn-outline-secondary me-2",disabled:e.loading},r(e.resetText),9,X)):n("",!0),l("button",{type:"submit",class:w(["btn",[`btn-${e.submitVariant}`,e.submitClass]]),disabled:e.loading||y&&b},[e.loading?(s(),k(M,{key:0,size:"sm",class:"me-1"})):n("",!0),x(" "+r(e.loading?e.loadingText:e.submitText),1)],10,Y)],!0)]))],42,D)]),_:3},512)}}},ae=I(Z,[["__scopeId","data-v-4e6f61b0"]]);export{ae as default};
//# sourceMappingURL=BaseForm-Dm2IYjtm.js.map
